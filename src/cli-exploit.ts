import { PhilTVPairing } from './lib/pairing';
import { PhilTVApi } from './lib/tv-api';

// @ts-ignore
process.env.NODE_TLS_REJECT_UNAUTHORIZED = 0;

// const pjs = new PhilTVPairing({ tvIp: '10.0.0.19', apiPort: 1926 });
// await pjs.init();
// const { promptForPin } = await pjs.startPairing();
// const pin = await promptForPin();
// const { config, error } = await pjs.completePairing(pin);
//
// if (!error) {
//   console.log('config', config);
// } else {
//   console.error('error', error.message);
// }
const cc = new PhilTVApi({
  apiUrl: 'https://10.0.0.19:1926/6',
  password: '7d1564d1edc514c43c74e0bb216172a18efd2110da2df260e9fb85a2796aa477',
  user: 'e8c87438f9ef5d034d1fa3d35a7fdbe7',
});
//
await cc.setAmbilightBrightness(1);

// console.log('error', error?.message);
// const ff = flattenNodes(t.node);
// console.log(JSON.stringify(t, null, 2));
