import { PhilTVPairing } from './lib/pairing';

// @ts-ignore
process.env.NODE_TLS_REJECT_UNAUTHORIZED = 0;

const pjs = new PhilTVPairing({ tvIp: '10.0.0.55', apiPort: 1926 });
await pjs.init();
const { promptForPin } = await pjs.startPairing();
const pin = (await promptForPin()) as string;
const { config, error } = await pjs.completePairing(pin);

if (!error) {
  console.log('config', config);
} else {
  console.error('error', error.message);
}
